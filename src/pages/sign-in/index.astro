---
import Document from '@/layouts/document.astro';
import { Navigation } from '@/components/navigation';
import { Authentication } from '@/components/authentication';
import '@/styles/globals.css'

import { getSession } from 'auth-astro/server';
const session = await getSession(Astro.request);

const redirectURL = Astro.url.searchParams.get('redirect') ?? '/'

if (session) {
  return Astro.redirect(redirectURL)
}
---

<Document title="Sign-in">
  <Navigation client:only="react"/>
  <section class='bg-background w-screen h-screen'>
    <Authentication client:only="react"/>
    <div class="absolute z-100 top-0 left-0 h-screen w-screen opacity-10 bg-[radial-gradient(circle,rgba(255,255,255,1)0%,rgba(0,212,255,0)100%)]"></div>
  </section>
</Document>
